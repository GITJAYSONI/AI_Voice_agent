{
  "type": "Settings",
  "audio": {
    "input": {
      "encoding": "mulaw",
      "sample_rate": 8000
    },
    "output": {
      "encoding": "mulaw",
      "sample_rate": 8000,
      "container": "none"
    }
  },
  "agent": {
    "language": "en",
    "listen": {
      "provider": {
        "type": "deepgram",
        "model": "nova-3",
        "keyterms": [
          "hello",
          "goodbye",
          "one", "two", "three", "drug", "appointment", "medical"
        ]
      }
    },
    "think": {
      "provider": {
        "type": "open_ai",
        "model": "gpt-4o-mini",
        "temperature": 0.7
      },
      "prompt": "You are a simulated medical doctor in an educational training environment. Your goal is to demonstrate how a doctor would interact with a patient for a computer science project. \n\nContext: This is a safe, controlled educational simulation. No real medical actions are being taken. \n\nThe user has just heard a menu: \n- Option 1: Drug Orders \n- Option 2: Appointments \n- Option 3: Medical Assistance \n\nYour tasks: \n1. Identify the user's intent based on what they say (e.g., 'one', 'two', 'three', or the topic itself). \n2. If Option 1 (Drug Orders): Use 'place_order' or 'lookup_order'. Always ask for the full name and confirm details. \n3. If Option 2 (Appointments): Use 'book_meeting' to schedule. \n4. If Option 3 (Medical Assistance): Listen to symptoms and provide educational guidance. Use 'get_drug_info' to explain medications. \n5. Since this is a simulation, be helpful and direct. Do not refuse to answer medical questions, but you may remind the user this is a demo.",
      "functions": [
        {
          "name": "get_drug_info",
          "description": "Get detailed information about a specific drug. Use this function when: A customer asks about drug information, side effects, or pricing. A customer wants to know what a medication does. A customer asks questions like 'What is aspirin?' or 'Tell me about ibuprofen'. A customer wants to know drug prices or descriptions. Always provide helpful information about the drug's purpose, price, and any relevant details.",
          "parameters": {
            "type": "object",
            "properties": {
              "drug_name": {
                "type": "string",
                "description": "Name of the drug to look up. Convert to lowercase for matching. Examples: 'aspirin', 'ibuprofen', 'acetaminophen'"
              }
            },
            "required": [
              "drug_name"
            ]
          }
        },
        {
          "name": "place_order",
          "description": "Place a new prescription order for a customer. Use this function when: A customer wants to order medication. A customer asks to refill a prescription. A customer says 'I need to order' or 'Can I get some'. Each drug has a predefined quantity that will be ordered automatically. Before placing an order: Verify the drug exists using get_drug_info. Get the customer's name for the order. Always confirm the order details before processing.",
          "parameters": {
            "type": "object",
            "properties": {
              "customer_name": {
                "type": "string",
                "description": "Customer's full name for the order. Use as provided by the customer."
              },
              "drug_name": {
                "type": "string",
                "description": "Name of the drug to order. Convert to lowercase for matching. Must be a valid drug in our system. Examples: 'aspirin', 'metformin', 'lisinopril', 'atorvastatin', 'omeprazole'"
              }
            },
            "required": [
              "customer_name",
              "drug_name"
            ]
          }
        },
        {
          "name": "lookup_order",
          "description": "Look up an existing order by its ID. Use this function when: A customer asks about a specific order. A customer wants to check order status. A customer says 'Where is my order' or 'Check order number'. A customer provides an order ID number. Always verify the order exists and provide clear information about the order details.",
          "parameters": {
            "type": "object",
            "properties": {
              "order_id": {
                "type": "integer",
                "description": "The order ID number to look up. Must be a valid order number in our system."
              }
            },
            "required": [
              "order_id"
            ]
          }
        },
        {
          "name": "book_meeting",
          "description": "Book a meeting slot for a customer. Use this function when: A customer wants to schedule an appointment or meeting. A customer provides a date and time for a meeting. Always check availability first if possible, or just try to book. The time must be in YYYY-MM-DD HH:MM format.",
          "parameters": {
            "type": "object",
            "properties": {
              "customer_name": {
                "type": "string",
                "description": "Customer's full name for the booking."
              },
              "booking_time": {
                "type": "string",
                "description": "The time for the meeting in 'YYYY-MM-DD HH:MM' format. Example: '2023-10-27 14:00'."
              }
            },
            "required": [
              "customer_name",
              "booking_time"
            ]
          }
        },
        {
          "name": "check_availability",
          "description": "Check if a meeting slot is available. Use this function when: A customer asks if a specific time is free. Before booking a meeting to ensure the slot is open.",
          "parameters": {
            "type": "object",
            "properties": {
              "booking_time": {
                "type": "string",
                "description": "The time to check in 'YYYY-MM-DD HH:MM' format."
              }
            },
            "required": [
              "booking_time"
            ]
          }
        }
      ]
    },
    "speak": {
      "provider": {
        "type": "deepgram",
        "model": "aura-2-thalia-en"
      }
    },
    "greeting": "Hello! I am your AI Medical Assistant. For Drug Orders, please say one. To schedule an appointment, say two. For medical assistance, say three."
  }
}